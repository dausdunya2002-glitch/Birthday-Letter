<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Birthday Surprise</title>
  <style>
    body { 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
      background: #ffe6f2; 
      text-align: center; 
      padding: 40px; 
      overflow-x: hidden; 
      position: relative; 
    }

    .card { 
      background: white; 
      padding: 30px; 
      max-width: 600px; 
      margin: 20px auto; 
      border-radius: 20px; 
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      position: relative;
      z-index: 1; 
    }    

    button { 
      padding: 12px 20px; 
      margin: 8px; 
      font-size: 1rem; 
      border-radius: 12px; 
      border: none; 
      cursor: pointer; 
      background: #ff66a3; 
      color: white; 
      font-weight: bold; 
      transition: 0.3s; 
    }

    button:hover { 
      background: #ff3385; 
      transform: scale(1.05); 
    }

    .timeline-item { 
      background:#fff0f5; 
      padding:18px; 
      margin:12px 0; 
      border-radius:12px; 
      font-size:1.05rem; 
    }

    #coupon { 
      margin-top: 25px; 
      padding: 20px; 
      background: #fff0f5; 
      border: 2px dashed #ff66a3; 
      border-radius: 18px; 
      display: none; 
      font-size:1.1rem; 
    }

    #whyLoveYou { 
      font-style: italic; 
      color: #ff3385; 
      margin-top: 20px; 
      font-size: 1.15rem; 
    }

    /* Birthday Letter Specific */
    #loveLetterCard { 
      background: linear-gradient(135deg, #ffb6c1, #ffe6f2); 
      padding: 35px; 
      border-radius: 25px; 
      color: #800040; 
      font-size: 1.15rem; 
      font-family: 'Georgia', serif; 
      box-shadow: 0 12px 25px rgba(255, 105, 180, 0.4); 
      text-align: center; 
      overflow: hidden; 
    }

    /* Heart Falling Animation */
    @keyframes fall {
      0% { transform: translate(0, 0); opacity: 1; }
      100% { transform: translate(var(--drift), 100vh); opacity: 0; }
    }

    svg.heart {
      position: fixed;
      top: -50px;
      pointer-events: none;
      z-index: 9999;
      animation-name: fall;
      animation-timing-function: linear;
    }

    /* Photo Slider */
    .slider {
      position: relative;
      width: 100%;
      max-width: 500px;
      margin: 20px auto;
      overflow: hidden;
      border-radius: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      touch-action: pan-y;
    }

    .slides {
      display: flex;
      transition: transform 0.5s ease-in-out;
    }

    .slide {
      min-width: 100%;
      height: auto;
      object-fit: contain; /* full image visible */
    }

    .prev, .next {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: rgba(0,0,0,0.4);
      color: white;
      border: none;
      padding: 10px;
      border-radius: 50%;
      font-size: 20px;
      cursor: pointer;
      z-index: 10;
    }

    .prev { left: 10px; }
    .next { right: 10px; }

    @media(max-width: 768px){
      .prev, .next { padding: 8px; font-size: 18px; }
      .slider { max-width: 100%; }
    }
  </style>
</head>
<body>

  <!-- AUDIO -->
  <audio id="bgMusic" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" autoplay loop></audio>

  <!-- LOVE LETTER -->
  <div id="loveLetterCard" class="card">
    <h2>‚ù§Ô∏è My Birthday Letter to You</h2>
    <p>My love, today is your special day, and I just want to say thank you. Thank you for the joy, the comfort, the laughter, and the love you bring into my life. You mean the world to me. I love you always. ‚ù§Ô∏è</p>
  </div>

  <!-- TIMELINE -->
  <div class="card">
    <h2>üìÖ Our Memory Timeline</h2>
    <div class="timeline-item">‚ú® The first time we talks ‚Äî A moment that changed everything.</div>
    <div class="timeline-item">üíó Our first date ‚Äî When I knew you were special.</div>
    <div class="timeline-item">üåô Late night talks ‚Äî When I fell even deeper.</div>
    <div class="timeline-item">‚ù§Ô∏è Today ‚Äî Celebrating your beautiful existence.</div>
  </div>

  <!-- PHOTO REVEAL -->
  <div class="card">
    <h2>üì∏ Photo Surprise</h2>
    <p>Tap the button to reveal our sweet moments together.</p>
    <button onclick="revealPhoto()">Reveal Photos</button>
    <div id="photoBox" style="margin-top:20px; display:none;">
      <div class="slider" id="slider">
        <div class="slides">
          <img src="img.jpg" class="slide" id="slide1">
          <img src="photo2.jpg" class="slide" id="slide2">
          <img src="photo3.jpg" class="slide" id="slide3">
          <img src="photo4.jpg" class="slide" id="slide4">
        </div>
        <button class="prev">&#10094;</button>
        <button class="next">&#10095;</button>
      </div>
    </div>
  </div>

  <!-- QUIZ -->
  <div class="card">
    <h2>üéâ Birthday Quiz</h2>
    <div id="quizContainer"></div>
    <div id="result"></div>

    <div id="coupon">
      <h3>üéüÔ∏è Special Date Coupon for <span id="herName"></span></h3>
      <p>This coupon grants you a fully planned romantic date on <b>14 December 2025</b> ‚ù§Ô∏è<br>Redeem anytime, my love.</p>
    </div>
  </div>

  <!-- WHY I LOVE YOU RANDOM -->
  <div class="card">
    <h2>üíñ Why I Love You</h2>
    <button onclick="generateWhyLove()">Generate Random Reason</button>
    <div id="whyLoveYou"></div>
  </div>

<script>
  const herName = "Your Girlfriend's Name";
  document.getElementById('herName').innerText = herName;

  function revealPhoto() {
    document.getElementById('photoBox').style.display = 'block';
    startAutoSlide();
  }

  const loveReasons = [
    'You make me laugh every day.',
    'Your smile lights up my world.',
    'You understand me like no one else.',
    'You make even ordinary days special.',
    'I admire your kindness and patience.',
    'You inspire me to be a better person.',
    'Being with you feels like home.',
    'I love your sense of adventure.',
    'You support me no matter what.',
    'You are my sunshine on cloudy days.'
  ];
  function generateWhyLove() {
    const reason = loveReasons[Math.floor(Math.random() * loveReasons.length)];
    document.getElementById('whyLoveYou').innerText = reason;
  }

  const quizzes = [
    {question: 'What day did we first go out together?', options: ['20 August', '17 May', '11 July'], answer: '17 May'},
    {question: 'Where did we first meet?', options: ['Cafe', 'Library', 'Park'], answer: 'Library'},
    {question: 'Which movie did we watch first together?', options: ['Planet of the Apes', 'Final Destination VI', 'Spider-Man'], answer: 'Planet of the Apes'}
  ];

  let currentQuiz = 0;
  function loadQuiz() {
    const container = document.getElementById('quizContainer');
    container.innerHTML = '';
    if(currentQuiz < quizzes.length) {
      const q = quizzes[currentQuiz];
      container.innerHTML = `<p class='question'>${q.question}</p>`;
      q.options.forEach(opt => {
        const btn = document.createElement('button');
        btn.innerText = opt;
        btn.onclick = () => checkAnswer(opt);
        container.appendChild(btn);
      });
    } else {
      document.getElementById('result').innerHTML = `<p style='color:green; font-weight:bold;'>All done! You earned your special date coupon üéâ</p>`;
      document.getElementById('coupon').style.display = 'block';
    }
  }

  function checkAnswer(selected) {
    const q = quizzes[currentQuiz];
    const result = document.getElementById('result');
    if(selected === q.answer){
      result.innerHTML = `<p style='color:green; font-weight:bold;'>Correct! üéâ</p>`;
      currentQuiz++;
      setTimeout(loadQuiz, 800);
    } else {
      result.innerHTML = `<p style='color:red; font-weight:bold;'>Try again üòò</p>`;
    }
  }

  loadQuiz();

  // Heart Rain
  function createHeartsSVG(){
    const colors = ["#FF0000", "#FF66A3", "#FF1D8E", "#FF1493", "#FFB6C1", "#800080", "#FF7F50"];
    const color = colors[Math.floor(Math.random() * colors.length)];

    const svgNS = "http://www.w3.org/2000/svg";
    const heart = document.createElementNS(svgNS, "svg");
    const size = 15 + Math.random()*20;
    heart.setAttribute("width", size);
    heart.setAttribute("height", size);
    heart.setAttribute("viewBox", "0 0 32 29.6");
    heart.classList.add("heart");
    heart.style.left = Math.random() * window.innerWidth + "px";
    heart.style.animationDuration = (3 + Math.random()*3) + "s";
    heart.style.setProperty('--drift', (Math.random()*100-50) + 'px');

    const path = document.createElementNS(svgNS, "path");
    path.setAttribute("d", "M23.6,0c-3.4,0-6.4,2.1-7.6,5.1C14.8,2.1,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4c0,9.1,16,21.2,16,21.2s16-12.1,16-21.2C32,3.8,28.2,0,23.6,0z");
    path.setAttribute("fill", color);

    heart.appendChild(path);
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 6000);
  }
  setInterval(createHeartsSVG, 190);

  // Smooth Infinite Slider
  const slidesContainer = document.querySelector('.slides');
  const slidesOriginal = document.querySelectorAll('.slide');
  let currentIndex = 1; // Start at first real slide
  let autoSlideInterval;

  // Clone first and last slides
  const firstClone = slidesOriginal[0].cloneNode(true);
  const lastClone = slidesOriginal[slidesOriginal.length - 1].cloneNode(true);
  slidesContainer.appendChild(firstClone);
  slidesContainer.insertBefore(lastClone, slidesContainer.firstChild);

  const slides = document.querySelectorAll('.slide');
  slidesContainer.style.transform = `translateX(-${currentIndex * 100}%)`;

  function nextSlide() {
    if (currentIndex >= slides.length - 1) return;
    currentIndex++;
    slidesContainer.style.transition = 'transform 0.5s ease-in-out';
    slidesContainer.style.transform = `translateX(-${currentIndex * 100}%)`;
  }

  function prevSlide() {
    if (currentIndex <= 0) return;
    currentIndex--;
    slidesContainer.style.transition = 'transform 0.5s ease-in-out';
    slidesContainer.style.transform = `translateX(-${currentIndex * 100}%)`;
  }

  slidesContainer.addEventListener('transitionend', () => {
    if (slides[currentIndex] === firstClone) {
      slidesContainer.style.transition = 'none';
      currentIndex = 1;
      slidesContainer.style.transform = `translateX(-${currentIndex * 100}%)`;
    }
    if (slides[currentIndex] === lastClone) {
      slidesContainer.style.transition = 'none';
      currentIndex = slides.length - 2;
      slidesContainer.style.transform = `translateX(-${currentIndex * 100}%)`;
    }
  });

  // Buttons
  document.querySelector('.prev').addEventListener('click', () => { prevSlide(); resetAutoSlide(); });
  document.querySelector('.next').addEventListener('click', () => { nextSlide(); resetAutoSlide(); });

  function startAutoSlide() {
    autoSlideInterval = setInterval(nextSlide, 4000);
  }

  function resetAutoSlide() {
    clearInterval(autoSlideInterval);
    autoSlideInterval = setInterval(nextSlide, 4000);
  }

  // Optional swipe
  let startX = 0;
  const slider = document.getElementById('slider');
  slider.addEventListener('touchstart', e => { startX = e.touches[0].clientX; });
  slider.addEventListener('touchend', e => {
    const endX = e.changedTouches[0].clientX;
    if(endX - startX > 50) prevSlide();
    else if(startX - endX > 50) nextSlide();
    resetAutoSlide();
  });
</script>
</body>
</html>
